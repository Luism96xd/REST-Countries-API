(this.webpackJsonpcountries=this.webpackJsonpcountries||[]).push([[0],{29:function(e,t,n){},30:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),i=n(21),s=n.n(i),r=(n(29),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,37)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),i(e),s(e)}))}),o=n(7),l=n(11),d=n(12),u=n(15),j=n(14),h=(n(30),n(13)),b=n(22),O=n.n(b),m=n(0),f=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){var c;return Object(l.a)(this,n),(c=t.call(this,e)).handleChange=function(e){e.preventDefault(),c.emitChangeDebounced(e.target.value),console.log(e.target.value);var t=c.busquedaRef.current.value;c.props.datosBusqueda(t)},c.handleChange=c.handleChange.bind(Object(h.a)(c)),c.emitChangeDebounced=O()(c.emitChange,10),c.busquedaRef=a.a.createRef(),c}return Object(d.a)(n,[{key:"componentWillUnmount",value:function(){this.emitChangeDebounced.cancel()}},{key:"render",value:function(){return Object(m.jsxs)("form",{className:"search",children:[Object(m.jsx)("ion-icon",{name:"search-outline"}),Object(m.jsx)("input",{className:"search-input",type:"text",ref:this.busquedaRef,defaultValue:this.props.value,onChange:this.handleChange,placeholder:"Search for a country..."})]})}},{key:"emitChange",value:function(e){this.props.datosBusqueda(e)}}]),n}(a.a.Component),p=function(e){var t=e.regions,n=e.width,a=t.filter((function(e,n){return t.indexOf(e)===n})),i=Object(c.useRef)(null);return Object(m.jsxs)("select",{onChange:function(t){var n=i.current.value;console.log(n),e.datosFiltro(n)},ref:i,style:{width:n+"px"},className:"select-box",name:"region",id:"region",children:[Object(m.jsx)("option",{className:"option",value:"",children:"Filter by Region"}),a.map((function(e,t){return""!==e&&null!==e&&Object(m.jsx)("option",{className:"option",value:e,children:e},"continente_".concat(t))}))]})},g=function(e){var t=e.toggleDarkMode,n=e.darkModeOn;return Object(m.jsx)("header",{children:Object(m.jsxs)("nav",{className:"navbar",children:[Object(m.jsx)("div",{className:"logo",children:Object(m.jsx)("h2",{children:"Where in the world?"})}),Object(m.jsx)("div",{className:"dark-mode-container",children:Object(m.jsxs)("button",{onClick:t,type:"button",id:"dark-mode-btn",children:[Object(m.jsx)("ion-icon",{size:"medium",name:n?"moon":"moon-outline",id:"moon-icon"}),Object(m.jsx)("p",{children:"Dark Mode"})]})})]})})},x=n(8),v=function(e){var t=e.index,n=e.name,c=e.flag,a=e.population,i=e.region,s=e.capital;return Object(m.jsx)(x.b,{className:"App-link",to:"/country/".concat(n),children:Object(m.jsxs)("div",{className:"card",title:t,children:[Object(m.jsx)("div",{className:"image-container",children:Object(m.jsx)("img",{src:c,alt:n+" flag",className:"image"})}),Object(m.jsxs)("div",{className:"details",children:[Object(m.jsx)("div",{className:"title",children:Object(m.jsx)("h2",{children:n})}),Object(m.jsx)("p",{children:"Population: ".concat(a)}),Object(m.jsx)("p",{children:"Region: ".concat(i)}),Object(m.jsx)("p",{children:"Capital: ".concat(s)})]})]})})},N=function(e){var t=e.countries,n=e.isFetch;return n?t.length>0?Object(m.jsx)("div",{className:"container-80",children:Object(m.jsx)("div",{className:"container-grid",children:function(e){return e.map((function(t,c){return n&&Object(m.jsx)(v,{index:c,borders:e[c].borders,flag:e[c].flags.svg,name:e[c].name.common,region:e[c].region,capital:e[c].capital,population:e[c].population},"card_".concat(c))}))}(t)})}):Object(m.jsx)("div",{className:"container-80",children:Object(m.jsx)("h2",{children:"No se encontraron coincidencias"})}):Object(m.jsx)("div",{className:"container-80",children:Object(m.jsx)("h2",{children:"Cargando Pa\xedses..."})})},C=n(2),k=function(e){var t=e.countries,n=e.isFetch,a=Object(C.g)().name,i=Object(C.f)(),s=function(e){if(null!==e||void 0!==e){if("object"===typeof e){var t=Object.entries(e);console.log(t);var n=t.map((function(e){var t=Object(o.a)(e,2);t[0];return t[1]}));return console.log(n),n}return console.log(typeof e),[]}},r=function(e){return Object.entries(e).filter((function(e){var t=Object(o.a)(e,2);t[0];return t[1].name.common===a})).map((function(e){var t=Object(o.a)(e,2);t[0];return t[1]}))[0]}(t);Object(c.useEffect)((function(){document.title="".concat(a)}));var l;return n&&null!==r&&void 0!==r?Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"container-80",children:Object(m.jsx)(x.b,{className:"App-link",to:"/",children:Object(m.jsxs)("button",{className:"light-button back-button",children:[Object(m.jsx)("ion-icon",{name:"arrow-back-outline"}),Object(m.jsx)("p",{children:"Back"})]})})}),Object(m.jsx)("div",{className:"container-80",children:Object(m.jsxs)("div",{className:"container-double",children:[Object(m.jsx)("div",{className:"image",children:Object(m.jsx)("img",{src:r.flags.svg,alt:a+" flag"})}),Object(m.jsxs)("div",{className:"description",children:[Object(m.jsx)("h1",{children:a}),Object(m.jsxs)("div",{className:"info",children:[Object(m.jsxs)("p",{children:[Object(m.jsx)("b",{children:"Native Name: "}),r.name.nativeName[Object.keys(r.name.nativeName)[0]].official]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("b",{children:"Population: "}),Number(r.population).toLocaleString("en-US")]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("b",{children:"Region: "}),r.region]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("b",{children:"Sub Region: "}),r.subregion]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("b",{children:"Capital: "}),r.capital]})]}),Object(m.jsxs)("div",{className:"info",children:[Object(m.jsxs)("p",{children:[Object(m.jsx)("b",{children:"Top Level Domain: "}),r.tld]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("b",{children:"Currencies: "}),function(e){for(var t=s(e).map((function(e){return e.name})),n="",c=0;c<t.length;c++)n+=t[c],c<t.length-1&&(n+=", ");return n}(r.currencies)]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("b",{children:"Languages: "}),function(e){var t=s(e);console.log(t);for(var n="",c=0;c<t.length;c++)n+=t[c],c<t.length-1&&(n+=", ");return n}(r.languages)]})]}),Object(m.jsxs)("div",{className:"borders",children:[Object(m.jsx)("p",{children:Object(m.jsx)("b",{children:"Border Countries: "})}),function(e){var n=s(e),c=Object.entries(t).filter((function(e){var t=Object(o.a)(e,2),c=(t[0],t[1]);return n.includes(null===c||void 0===c?void 0:c.cca3)})),a=c.map((function(e){var t,n=Object(o.a)(e,2),c=(n[0],n[1]);return null===c||void 0===c||null===(t=c.name)||void 0===t?void 0:t.common})).map((function(e,t){return Object(m.jsx)(x.b,{className:"App-link",to:"/country/".concat(e),children:Object(m.jsx)("button",{className:"light-button",children:e},"".concat(e,"_border_").concat(t))})}));return a}(r.borders)]})]})]})})]}):(l="/",document.title="Countries App",i.push(l),Object(m.jsx)("div",{className:"container-80",children:Object(m.jsx)("h1",{children:"Cargando datos del pa\xeds..."})}))},y=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(l.a)(this,n);for(var c=arguments.length,a=new Array(c),i=0;i<c;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={regiones:["Africa","Americas","Antartic","Asia","Europe","Oceania"],paises:[],filtered:[],busqueda:"",region:"",modo:"light",darkMode:!1,isFetch:!1},e.consultarApi=function(){fetch("https://restcountries.com/v3.1/all/").then((function(e){return e.json()})).then((function(t){var n=Array.from(t);e.setState({paises:n,filtered:n,isFetch:!0})})).catch((function(e){console.log(e)}))},e.datosBusqueda=function(t){e.setState({busqueda:t},(function(){e.filterCountries(e.state.paises)}))},e.datosFiltro=function(t){e.setState({region:t},(function(){return e.filterCountries(e.state.paises)}))},e.filterCountries=function(t){var n=Object.entries(t).filter((function(t){var n=Object(o.a)(t,2),c=(n[0],n[1]),a=c.name.common.toLowerCase().startsWith(e.state.busqueda);return a&&c.region===e.state.region||a&&""===e.state.region})).map((function(e){var t=Object(o.a)(e,2);t[0];return t[1]}));return e.setState({filtered:n}),n},e.toggleDarkMode=function(){e.setState({modo:"light"===e.state.modo?"dark":"light",darkMode:"light"===e.state.modo})},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.consultarApi(),console.log("Component did Mount"),console.log("Se hizo una llamada a la API")}},{key:"render",value:function(){return Object(m.jsxs)("div",{className:"App ".concat(this.state.modo),children:[Object(m.jsx)(g,{toggleDarkMode:this.toggleDarkMode,darkModeOn:this.state.darkMode}),Object(m.jsx)(x.a,{children:Object(m.jsxs)(C.c,{children:[" ",Object(m.jsxs)(C.a,{exact:!0,path:"/",children:[Object(m.jsx)("div",{className:"container-80",children:Object(m.jsxs)("div",{className:"search-filters",children:[Object(m.jsx)(f,{datosBusqueda:this.datosBusqueda}),Object(m.jsx)(p,{datosFiltro:this.datosFiltro,width:200,regions:this.state.regiones})]})}),Object(m.jsx)(N,{countries:this.state.filtered,regiones:this.state.regiones,isFetch:this.state.isFetch,nombreActual:this.state.nombreActual})]}),Object(m.jsx)(C.a,{exact:!0,path:"/country/:name",children:Object(m.jsx)(k,{isFetch:this.state.isFetch,countries:this.state.paises})})]})})]})}}]),n}(a.a.Component),F=y;s.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(F,{})}),document.getElementById("root")),r()}},[[36,1,2]]]);
//# sourceMappingURL=main.46dc2438.chunk.js.map